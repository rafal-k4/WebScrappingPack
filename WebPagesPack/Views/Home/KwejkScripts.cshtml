@model WebPagesPack.Models.IndexViewModel
<script>
    let currentPage;
    let Url;
    let documentHeight = 0;

    $(document).ready(function () {
        currentPage = @Model.CurrentPageNumber;
    })

    $(window).scroll(function () {
        if ($(document).scrollTop() > $(document).height() - 3000 && documentHeight !== $(document).height()) {

            $(document.body).append('<img id="loading-gif" src="/wwwroot/Images/loading.gif"></img>')
            $.get("/Home/GetPage/" + currentPage--, function (data) {
                //$("#loading-gif").remove();
                $(document.body).append(data);
            });
            
            documentHeight = $(document).height();
        }
    });

</script>
